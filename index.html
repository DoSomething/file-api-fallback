<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>File API Fallback</title>
    
    <script src="src/modernizr.js"></script>
    <link rel="stylesheet" href="src/main.css"/>
    <link rel="stylesheet" href="src/file-api-fallback.css"/>
  </head>
  
  <body>
    <div class="enclosure">
        
      <header class="header" role="banner">
        <div class="wrapper">
          <h1 class="header__title">Example for File API Fallback</h1>
        </div>
      </header>
      
      <main class="main" role="main">
        <form action=".">
          <div class="example">
            <h2>Default browser interface</h2>
            <div class="container">
              <label for="example-1">Upload a file:</label>
              <input id="example-1" type="file" aria-label="file browser" />
            </div>
          </div>
          
          <hr>
          
          <div class="example">
            <h2>Customized browser interface with fallback</h2>
            <p>Using a customized interface, we can apply the fallback for browsers such as IE8 and IE9 that do not support the HTML5 File API.</p>
            <div class="container custom-interface has-fallback">
              <label class="button">
                <span>Upload a file</span>
                <input id="example-2" name="" class="" type="file" aria-label="file browser">
              </label>
            </div>
          </div>

          </form>
      </main>

      <footer class="footer">
        <div class="wrapper">
          <p class="credit">Brought to you by <a href="https://github.com/weerd">weerd</a> and <a href="http://dosomething.org">DoSomething.org</a></p>
        </div>
      </footer>

    </div>
    
    <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="src/FileApiFallback.js"></script>
    <script>
      var $examples = $('.example');
      
      $examples.each(function () {
        var $container = $(this).find('.container'),
            $input = $container.find('input');

        if (!Modernizr.filereader || $container.hasClass('has-fallback')) {
          // Using a class "has-fallback" to trigger the file api fallback 
          // for modern browsers that do support the file api, so that it 
          // can be demoed.

          FileApiFallback.init($input, '.container');
        }
        else {
          // Continue with modern browser support for File Reader API.
        }
      });

    </script>
  </body>

</html>
